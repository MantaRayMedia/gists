# gists
Because we can't create gists for the organisation

## Start here with *little* help:
| File                               | Description                                                     | Link                                                                                              |
|------------------------------------|-----------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| `Block.md`                         | Render custom and plugin blocks                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/Block.md)                               |
| `Commands.md`                      | Useful commands to streamline setting up your local environemnt | [open](https://github.com/MantaRayMedia/gists/blob/master/Lando/Commands.md)                      |
| `Config.md`                        | Get Drupal config, Update Drupal config                         | [open](https://github.com/MantaRayMedia/gists/blob/master/Config.md)                              |
| `D7 modules via DB.md`             | Modules enable/disable via DB                                   | [open](https://github.com/MantaRayMedia/gists/blob/master/D7%20modules%20via%20DB.md)             |
| `DB and queries.md`                | Basic database interaction                                      | [open](https://github.com/MantaRayMedia/gists/blob/master/DB%20and%20queries.md)                  |
| `Debugging.md`                     | Dif ways of finding the little bugger :P                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Debugging.md)                           |
| `Dependency injection.md`          | How to inject custom service                                    | [open](https://github.com/MantaRayMedia/gists/blob/master/Dependency%20injection.md)              |
| `Drupal 8 tips.md`                 | How to inject custom service                                    | [open](https://github.com/MantaRayMedia/gists/blob/master/Drupal%208%20tips.md)                   |
| `Drupal config sync exclusions.md` | Drupal items to exclude from config sync                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Drupal%20config%20sync%20exclusions.md) |
| `Drupal Mismatched entity.md`      | Script that fixes `Mismatched entity` in update hook            | [open](https://github.com/MantaRayMedia/gists/blob/master/Drupal%20mismatched%20entity.md)        |
| `Entity.md`                        | Entity manipulation                                             | [open](https://github.com/MantaRayMedia/gists/blob/master/Entity.md)                              |
| `Field.md`                         | Node Field manipulation                                         | [open](https://github.com/MantaRayMedia/gists/blob/master/Field.md)                               |
| `File.md`                          | File manipulation                                               | [open](https://github.com/MantaRayMedia/gists/blob/master/File.md)                                |
| `Form.md`                          | Create form structure for node                                  | [open](https://github.com/MantaRayMedia/gists/blob/master/Form.md)                                |
| `Image.md`                         | Get image with details                                          | [open](https://github.com/MantaRayMedia/gists/blob/master/Image.md)                               |
| `Misc.md`                          | Mixed functions and traits                                      | [open](https://github.com/MantaRayMedia/gists/blob/master/Misc.md)                                |
| `Request.md`                       | Request data in controller or .theme file                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Request.md)                             |
| `Route.md`                         | Route specification for service, controller, ...                | [open](https://github.com/MantaRayMedia/gists/blob/master/Route.md)                               |
| `Url & Link.md`                    | Get, generate, update                                           | [open](https://github.com/MantaRayMedia/gists/blob/master/Url%20%26%20Link.md)                    |
| `User.md`                          | Get user and it's data                                          | [open](https://github.com/MantaRayMedia/gists/blob/master/User.md)                                |
| `View.md`                          | Get, render and alter the views                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/View.md)                                |



## Code examples:
| File                                         | Description                                                                                 | Link                                                                                                       |
|----------------------------------------------|---------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
| `d8-es7-attachments.md`                      | D8 Attachment indexing (ES and Solr)                                                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/d8-es7-attachments.md)                      |
| `hidden-element-size.js`                     | jQuery extended function to get size of any element, even hidden                            | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/hidden-element-size.js)                     |
| `hijack-ajax-data.js`                        | Hijack ajax call in Drupal and modify form data with serialization                          | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/hijack-ajax-data.js)                        |
| `hijack-ajax-data-and-clear-from-session.js` | Hijack ajax call in Drupal, check for empty filter group and clear filter data from session | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/hijack-ajax-data-and-clear-from-session.js) |
| `is-php-running.sh`                          | bash script to check php-fpm service                                                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/is-php-running.sh)                          |
| `javascript-table-pagination`                | jQuery any table to paginated                                                               | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/javascript-table-pagination/index.html)     |
| `loader-and-csv-via-javascript`              | Overlay fullscreen loader with spinning image and vanilla javascript download data to csv   | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/loader-and-csv-via-javascript/index.html)   |
| `mrm-repo-version-scripts`                   | scripts to generate repository version files                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/mrm-repo-version-scripts/README.md)         |
| `selective-filter-summary.js`                | Summary of selected exposed filters                                                         | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/selective-filter-summary.js)                |
| `view.html.twig`                             | Get value of rows in twig template D8                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/view.html.twig)                             |


## Patches:
| Title                                               | Drupal | Description                                                                                                                                              | Link                                                                                                                              |
|-----------------------------------------------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| Access basic site information configuration         | 9+     | Access basic site information configuration if you have administer nodes permission                                                                      | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/access_basic_site_information.patch)                            |
| Menu admin per menu weight issue                    | 9+     | All hooks of module menu_admin_per_menu are programatically put last to execute since they need to be ran after menu_ui module hooks to work as expected | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/admin_menu_per_menu_weight_problem.patch)                       |
| Menu admin per menu PHP 8                           | 9+     | null provided when there is no admin menu                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/PHP8/non_admin_menu_fix.patch)                                  |
| Better exposed filters reset button                 |        | Removed hiding of reset button when there are no filters selected                                                                                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/always_show_reset_button.patch)                                 |
| Bulk form actions default options                   |        | Added default option to select box                                                                                                                       | [open](https://raw.githubusercontent.com/MantaRayMedia/gists/master/Patches/bulk_field_default_option.patch)                      |
| Career change activities webform                    |        | Custom webform module override with calls for creation new career change activities in civicrm                                                           | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/create_career_change_activity_in_civicrm_on_field_change.patch) |
| CiviCRM group roles sync                            |        | fix for sync between civiCRM and Drupal9                                                                                                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/civicrm_group_roles_sync.patch)                                 |
| CiviCRM member roles sync                           |        | fix for sync of member roles between civiCRM and Drupal9                                                                                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/civicrm_member_roles_sync.patch)                                |
| Countries info                                      |        | Added UK countries                                                                                                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/uk_countries_divided.patch)                                     |
| Core 9.4.5 - 9.4.8                                  | 9      | Patch for issue 3260652 with aditional check for session to fix ajax response on search                                                                  | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/drupal-session-views-filter-3260652-15-repatched.patch)         |
| Core 9.5.x                                          | 9      | PHP 8.1 deprecation fixes                                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/drupal_core_9_5_x-php8.patch)                                   |
| Core 10.2.x                                         | 10     | Fixes empty taxonomy selection on related                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/drupal_core_10-operator-taxonomy-fix.patch)                     |
| Drupal 7 GA4 patch                                  | 7      | GA4 tags available                                                                                                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/google_analytics_ga4.patch)                                     |
| EU Cookie compliance GTM                            |        | Patch updates the way data is passed to gtag function and is respecting Google Consent Mode                                                              | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/gtm_consent_mode.patch)                                         |
| Facets D8                                           | 9      | Facets hierarchy display showing only hierarchy tree from results                                                                                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/d8_facets_hierarchy_query_results_build_from_results.patch)     |
| Field Group                                         | 3.6    | Javascript html validation                                                                                                                               | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/D10/highlight-html5-validation.patch)                           |
| File delete unused file straight away               |        | Deletion happens straight away instead of marking file as temp and waiting until cron deletes it                                                         | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/file_delete_immediately.patch)                                  |
| File module additional description helper on upload |        | Added description helpers for image sizes on upload                                                                                                      | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/image_file_description_helper.patch)                            |
| Google Analytics                                    |        | PHP 8.1 deprecation fixes                                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/google_analytics-php8.patch)                                    |
| Image widget crop                                   |        | PHP 8.1 deprecation fixes                                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/image_widget_crop-php8.patch)                                   |
| Image widget crop messages                          |        | Added description helpers for image sizes on upload                                                                                                      | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/soft-limit-message.patch)                                       |
| Layout paragraphs 2.0.x                             |        | Modal form actions broken once a subform has a validation error                                                                                          | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/layout_paragraphs_modal_form_actions_broken.patch)              |
| Linkchecker 2.x                                     |        | New button `Process all` if multiple not processed                                                                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/linkchecker_2_process_all.patch)                                |
| Miniorange SAML (SSO)                               | 2.0    | MRM patch fro SSO                                                                                                                                        | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/miniorange_saml_simplesamphp.patch)                             |
| Miniorange SAML (SSO)                               | 3.0.16 | MRM patch fro SSO (D10+)                                                                                                                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/miniorange_saml_3-simplesamphp.patch)                           |
| Node content                                        |        | Node content patch                                                                                                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/node_content_crash.patch)                                       |
| Scoring matrix webform                              | 7      | Custom webform module override with call to scoring matrix recalculate                                                                                   | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/webform_call_custom_for_matrix_calculate.patch)                 |
| Scoring matrix webform                              | 7      | Webform validation for application round                                                                                                                 | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/webform_validation-application-round.patch)                     |
| Search API                                          | 9+     | Read SOLR API configuration from settings if exists and override what's in DB                                                                            | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/search_api_load_from_settings.patch)                            |
| Selective filter                                    |        | Ability to un-check last element                                                                                                                         | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/views_module_fix_for_selective_filter_uncheck_last.patch)       |
| Selective filter                                    |        | Search API support                                                                                                                                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/views_selective_filters-search_api.patch)                       |
| Search API Solr                                     | 9+     | PHP 8.1 deprecation fixes                                                                                                                                | [open](https://github.com/MantaRayMedia/gists/blob/master/Patches/search_api_solr_4.2.0-php8.1_deprecation.patch)                 |


## Other:
| Title                     | Description                                     | Link                                                                                          |
|---------------------------|-------------------------------------------------|-----------------------------------------------------------------------------------------------|
| AWS help                  | Various instructions for AWS                    | [open](https://github.com/MantaRayMedia/gists/blob/master/Other/aws.md)                       |
| AWS CloudFront            | Add missing cached Behaviors                    | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/aws-cf-behaviors/Behaviors.md) |
| Node and npm errors       | Help scripts about errors                       | [open](https://github.com/MantaRayMedia/gists/blob/master/Other/npm-errors.md)                |
| Configuring Solr on Lando | Instructions to get it working on any Lando box | [open](https://github.com/MantaRayMedia/gists/blob/master/Other/solr-configuration.md)        |
| Lando stuff               | Lando configurations                            | [open](https://github.com/MantaRayMedia/gists/blob/master/Lando.md)                           |
| OpenVPN AWS               | Setting new users for VPN                       | [open](https://github.com/MantaRayMedia/gists/blob/master/OpenVPN.md)                         |
| Sitemap cache warmer      | Rebuild cache for pages from sitemap            | [open](https://github.com/MantaRayMedia/gists/blob/master/Code/sitemap_cache_warmer.php)      |
| SSH on Lando              | Instructions to get it working on any box       | [open](https://github.com/MantaRayMedia/gists/blob/master/Lando/ssl.md)                       |
| Setting up Remora         | An automated script to setup Remora9 sites      | [open](https://github.com/MantaRayMedia/gists/blob/master/Remora8/Setup.md)                   |
